**Билет 12. Нормальная форма 3, форма Бойса–Кодда**

### Третья нормальная форма (3NF)
- **Требование**: отношение в 2NF + отсутствие транзитивной зависимости неключевых атрибутов от первичного ключа.  
  То есть: каждый неключевой атрибут должен зависеть **только** от ключа, а не от другого неключевого атрибута.
- **Нарушение**:  
  `Сотрудник(id, отдел, зав_отдела)` — `зав_отдела` зависит от `отдел`, а не напрямую от `id`.
- **Приведение**:
  ```sql
  CREATE TABLE сотрудники (id SERIAL PRIMARY KEY, отдел_id INT REFERENCES отделы(id));
  CREATE TABLE отделы (id SERIAL PRIMARY KEY, название TEXT, заведующий TEXT);
  ```

### Нормальная форма Бойса–Кодда (BCNF)
- **Требование**: для каждой нетривиальной функциональной зависимости X → Y, X должен быть суперключом.
- **Сильнее 3NF**: устраняет все зависимости, где детерминант — не ключ.
- **Нарушение**:  
  `Группа(студент, курс, преподаватель)`, где каждый курс ведёт один преподаватель, но преподаватель может вести несколько курсов. Зависимость: `курс → преподаватель`, но `курс` — не ключ.
- **Приведение**:
  ```sql
  CREATE TABLE курсы (название TEXT PRIMARY KEY, преподаватель TEXT);
  CREATE TABLE зачисления (студент TEXT, курс TEXT REFERENCES курсы(название));
  ```

BCNF обеспечивает максимальную защиту от аномалий, но иногда требует жертвовать сохранением зависимостей.
