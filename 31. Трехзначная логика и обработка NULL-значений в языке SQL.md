**Билет 31. Трехзначная логика и обработка NULL-значений в языке SQL**

### Трехзначная логика (3VL)
В SQL логические выражения могут принимать три значения:  
- **TRUE**, **FALSE**, **UNKNOWN** (а не `NULL`!).

`UNKNOWN` возникает при сравнении с `NULL`, так как `NULL` означает «отсутствие значения».

### Таблицы истинности
Для операторов `AND`, `OR`, `NOT`:

| A       | B       | A AND B | A OR B | NOT A   |
|---------|---------|---------|--------|---------|
| TRUE    | TRUE    | TRUE    | TRUE   | FALSE   |
| TRUE    | FALSE   | FALSE   | TRUE   | FALSE   |
| TRUE    | UNKNOWN | UNKNOWN | TRUE   | FALSE   |
| FALSE   | FALSE   | FALSE   | FALSE  | TRUE    |
| FALSE   | UNKNOWN | FALSE   | UNKNOWN| TRUE    |
| UNKNOWN | UNKNOWN | UNKNOWN | UNKNOWN| UNKNOWN |

### `NULL` в SQL
- `NULL` — маркер отсутствующего/неизвестного значения.
- Любое сравнение с `NULL` (`=`, `<>`, `<`, `>`) возвращает **UNKNOWN**, а не `TRUE/FALSE`.
- Поэтому `WHERE col = NULL` **не работает** — нужно использовать:  
  ```sql
  WHERE col IS NULL      -- или IS NOT NULL
  ```

### Отличие `NULL` и `UNKNOWN`
- **`NULL`** — значение данных (в столбце).  
- **`UNKNOWN`** — результат логического выражения, содержащего `NULL`.

Пример:
```sql
SELECT * FROM users WHERE age > 30;
```
Если `age` = `NULL`, условие → `UNKNOWN` → строка **не попадает** в результат (только `TRUE` проходит через `WHERE`).

Таким образом, `NULL` влияет на логику фильтрации, агрегацию (`COUNT(col)` игнорирует `NULL`) и соединения.
