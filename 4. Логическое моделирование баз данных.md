**Билет 4. Логическое моделирование баз данных**

### Определение логического проектирования
Логическое проектирование — этап преобразования концептуальной ER-модели в структуру реляционной БД, совместимую с выбранной СУБД (например, PostgreSQL). Результат — набор таблиц с типами данных, ключами и ограничениями.

### Целостность данных
Обеспечивается через:
- **Сущностную целостность**: первичный ключ не может быть NULL.
- **Ссылочную целостность**: внешние ключи ссылаются на существующие записи.
- **Доменную целостность**: значения соответствуют заданному типу/ограничению (`CHECK`, `NOT NULL`).

### Правила перехода
- **Сильная сущность** → таблица с первичным ключом.  
  Пример: `Клиент(id PK, имя)`.
- **Слабая сущность** → таблица с составным PK (включая FK от сильной сущности).  
  Пример: `Заказ(номер, клиент_id FK → Клиент, дата)`.
- **Атрибуты** → столбцы с подходящими типами (`TEXT`, `INT`, `DATE`).
- **Связи**:
  - **1:1** — внешный ключ в одной из таблиц.
  - **1:N** — FK в таблице «много».
  - **M:N** — отдельная связующая таблица с двумя FK.

Пример в PostgreSQL:
```sql
CREATE TABLE Автор (id SERIAL PRIMARY KEY, имя TEXT);
CREATE TABLE Книга (
  id SERIAL PRIMARY KEY,
  название TEXT,
  автор_id INT NOT NULL REFERENCES Автор(id)
);
```
