**–ë–∏–ª–µ—Ç 37. –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –¥–æ—Å—Ç—É–ø–æ–º –≤ –°–£–ë–î PostgreSQL**

> ‚ö†Ô∏è –í PostgreSQL **–ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ –∏ –≥—Ä—É–ø–ø—ã –æ–±—ä–µ–¥–∏–Ω–µ–Ω—ã –≤ –ø–æ–Ω—è—Ç–∏–µ ¬´—Ä–æ–ª–∏¬ª**. –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å ‚Äî —ç—Ç–æ —Ä–æ–ª—å —Å –∞—Ç—Ä–∏–±—É—Ç–æ–º `LOGIN`.

---

### –°–æ–∑–¥–∞–Ω–∏–µ, –∏–∑–º–µ–Ω–µ–Ω–∏–µ –∏ —É–¥–∞–ª–µ–Ω–∏–µ —Ä–æ–ª–µ–π
- **–°–æ–∑–¥–∞–Ω–∏–µ —Ä–æ–ª–∏ (–ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è)**:  
  ```sql
  CREATE ROLE reader;                          -- –±–µ–∑ –≤—Ö–æ–¥–∞
  CREATE ROLE alice LOGIN PASSWORD 'secret';   -- –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å
  -- –∏–ª–∏ –∫–æ—Ä–æ—á–µ:
  CREATE USER bob WITH PASSWORD '123';
  ```

- **–ò–∑–º–µ–Ω–µ–Ω–∏–µ —Ä–æ–ª–∏**:  
  ```sql
  ALTER ROLE alice SET search_path = myapp;
  ALTER ROLE alice PASSWORD 'newpass';
  ALTER ROLE reader WITH CREATEDB;  -- –¥–æ–±–∞–≤–∏—Ç—å –ø—Ä–∏–≤–∏–ª–µ–≥–∏—é
  ```

- **–£–¥–∞–ª–µ–Ω–∏–µ —Ä–æ–ª–∏**:  
  ```sql
  DROP ROLE IF EXISTS alice;
  ```
  > –†–æ–ª—å –¥–æ–ª–∂–Ω–∞ –±—ã—Ç—å –ª–∏—à–µ–Ω–∞ –≤—Å–µ—Ö –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π (–Ω–∞–ø—Ä–∏–º–µ—Ä, –≤–ª–∞–¥–µ–Ω–∏—è –æ–±—ä–µ–∫—Ç–∞–º–∏).

---

### –ù–∞–¥–µ–ª–µ–Ω–∏–µ –ø—Ä–∞–≤–∞–º–∏ –∏ —Ä–æ–ª—è–º–∏
- **–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ —Ä–æ–ª–∏ –¥—Ä—É–≥–æ–π —Ä–æ–ª–∏ (—á–ª–µ–Ω—Å—Ç–≤–æ)**:  
  ```sql
  GRANT reader TO alice;  -- alice –Ω–∞—Å–ª–µ–¥—É–µ—Ç –ø—Ä–∞–≤–∞ reader
  ```

- **–í—ã–¥–∞—á–∞ –ø—Ä–∞–≤ –Ω–∞ –æ–±—ä–µ–∫—Ç—ã**:  
  ```sql
  GRANT SELECT ON TABLE orders TO reader;
  GRANT USAGE ON SCHEMA public TO reader;
  GRANT ALL PRIVILEGES ON DATABASE mydb TO admin;
  ```

- **–í—ã–¥–∞—á–∞ –ø—Ä–∞–≤ –Ω–∞ –±—É–¥—É—â–∏–µ –æ–±—ä–µ–∫—Ç—ã**:  
  ```sql
  ALTER DEFAULT PRIVILEGES IN SCHEMA public
  GRANT SELECT ON TABLES TO reader;
  ```

---

### –û—Ç–∑—ã–≤ –ø—Ä–∞–≤ –∏ —Ä–æ–ª–µ–π
- **–û—Ç–∑—ã–≤ –ø—Ä–∞–≤**:  
  ```sql
  REVOKE SELECT ON TABLE orders FROM reader;
  REVOKE ALL PRIVILEGES ON DATABASE mydb FROM admin;
  ```

- **–û—Ç–∑—ã–≤ —á–ª–µ–Ω—Å—Ç–≤–∞ –≤ —Ä–æ–ª–∏**:  
  ```sql
  REVOKE reader FROM alice;
  ```

- **–°–±—Ä–æ—Å –ø—Ä–∞–≤ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é**:  
  ```sql
  ALTER DEFAULT PRIVILEGES FOR ROLE owner
  REVOKE SELECT ON TABLES FROM reader;
  ```

> üîê –ü—Ä–∏–≤–∏–ª–µ–≥–∏–∏ —Ä–∞—Å–ø—Ä–æ—Å—Ç—Ä–∞–Ω—è—é—Ç—Å—è –∏–µ—Ä–∞—Ä—Ö–∏—á–µ—Å–∫–∏: –±–∞–∑–∞ ‚Üí —Å—Ö–µ–º–∞ ‚Üí —Ç–∞–±–ª–∏—Ü–∞.  
> –í–ª–∞–¥–µ–ª–µ—Ü –æ–±—ä–µ–∫—Ç–∞ –≤—Å–µ–≥–¥–∞ –º–æ–∂–µ—Ç –µ–≥–æ –∏–∑–º–µ–Ω–∏—Ç—å, –Ω–µ–∑–∞–≤–∏—Å–∏–º–æ –æ—Ç `GRANT`.
