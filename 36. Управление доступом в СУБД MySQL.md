**Билет 36. Управление доступом в СУБД MySQL**

### Управление пользователями
- **Создание**:  
  ```sql
  CREATE USER 'user'@'host' IDENTIFIED BY 'password';
  ```
- **Изменение**:  
  ```sql
  ALTER USER 'user'@'host' IDENTIFIED BY 'new_password';
  ```
- **Удаление**:  
  ```sql
  DROP USER 'user'@'host';
  ```

> `host` может быть `'localhost'`, `'%'` (любой хост) или конкретным IP.

---

### Роли (MySQL 8.0+)
- **Создание роли**:  
  ```sql
  CREATE ROLE 'reader', 'writer';
  ```
- **Назначение роли пользователю**:  
  ```sql
  GRANT 'reader' TO 'user'@'host';
  ```
- **Активация ролей по умолчанию**:  
  ```sql
  SET DEFAULT ROLE 'reader' TO 'user'@'host';
  ```

---

### Наделение правами
- **Права на объекты**:  
  ```sql
  GRANT SELECT, INSERT ON db.table TO 'user'@'host';
  GRANT ALL PRIVILEGES ON db.* TO 'admin'@'localhost';
  ```
- **Наделение ролями**:  
  ```sql
  GRANT 'writer' TO 'user'@'host';
  ```

---

### Отзыв прав и ролей
- **Отзыв прав**:  
  ```sql
  REVOKE INSERT ON db.table FROM 'user'@'host';
  REVOKE ALL PRIVILEGES ON *.* FROM 'user'@'host';
  ```
- **Отзыв ролей**:  
  ```sql
  REVOKE 'writer' FROM 'user'@'host';
  ```
- **Удаление роли**:  
  ```sql
  DROP ROLE 'writer';
  ```

> ⚠️ После изменений выполните:  
> ```sql
> FLUSH PRIVILEGES;
> ```
> (хотя в современных версиях это часто не требуется).

Права иерархичны: глобальные → базы данных → таблицы → столбцы.
