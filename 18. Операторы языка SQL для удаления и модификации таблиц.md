**Билет 18. Операторы языка SQL для удаления и модификации таблиц**

### Удаление таблицы (`DROP TABLE`)
**Стандарт**:  
```sql
DROP TABLE [IF EXISTS] table_name [CASCADE | RESTRICT];
```
- `CASCADE` — удаляет зависимые объекты (внешние ключи, представления).  
- `RESTRICT` (по умолчанию) — запрещает удаление при наличии зависимостей.

**PostgreSQL**: поддерживает `IF EXISTS`, `CASCADE/RESTRICT`.

**Пример**:  
```sql
DROP TABLE IF EXISTS orders CASCADE;
```

### Модификация структуры (`ALTER TABLE`)
**Стандартные операции**:
- Добавление столбца:  
  ```sql
  ALTER TABLE table_name ADD COLUMN column_name data_type [constraints];
  ```
- Удаление столбца:  
  ```sql
  ALTER TABLE table_name DROP COLUMN column_name [CASCADE];
  ```

**Особенности PostgreSQL**:
- Поддержка `RENAME COLUMN`, `ALTER COLUMN TYPE`, `SET DEFAULT`, `ADD CONSTRAINT`.
- Изменение типа возможно с `USING` для преобразования данных.

**Пример 1 — добавление столбца**:  
```sql
ALTER TABLE users ADD COLUMN email TEXT UNIQUE;
```

**Пример 2 — изменение типа и ограничения**:  
```sql
ALTER TABLE products 
  ALTER COLUMN price TYPE NUMERIC(12,2),
  ALTER COLUMN price SET NOT NULL;
```

Эти команды позволяют гибко эволюционировать схему БД без полной пересборки.
