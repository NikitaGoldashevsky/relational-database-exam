**Билет 23. Операции соединения и их свойства в реляционной алгебре**

### Естественное соединение (⨝)
- **Определение**: объединение кортежей из двух отношений по **совпадающим значениям общих атрибутов**; общие столбцы включаются один раз.
- **Свойства**:  
  - Коммутативно и ассоциативно.  
  - Может быть выражено через декартово произведение, выборку и проекцию.
- **SQL**: `NATURAL JOIN` или `JOIN USING (col)`  
  ```sql
  SELECT * FROM orders NATURAL JOIN customers;
  -- или
  SELECT * FROM orders JOIN customers USING (customer_id);
  ```

### Эквисоединение (=–соединение)
- **Определение**: соединение по условию равенства атрибутов (не обязательно с одинаковыми именами).
- **Отличие от естественного**: общие атрибуты **дублируются** в результате.
- **SQL**: `JOIN ... ON A.x = B.y`  
  ```sql
  SELECT * FROM employees e JOIN departments d ON e.dept_id = d.id;
  ```

### Тета-соединение (θ-соединение)
- **Определение**: соединение по произвольному условию (>, <, ≠ и т.д.).
- **Пример**: найти все пары товаров, где цена первого > цены второго.
- **SQL**: `JOIN ... ON condition`  
  ```sql
  SELECT a.name, b.name 
  FROM products a JOIN products b ON a.price > b.price;
  ```

### Общие свойства
- Все соединения — производные от декартова произведения + выборки.  
- Естественное соединение — частный случай эквисоединения с удалением дубликатов ключей.
